require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.32.1/min/vs",dt:"/js"}}),require(["dt/difftool.min","dt/editor.min","dt/about.min"],(t,e,a)=>{const o=()=>{window.addEventListener("visibilitychange",t=>{const e=document.querySelector(".dt-tab-bar .dt-tab-button.active"),a=e.getAttribute("data-tab-id");localStorage.setItem("selectedTabId",a)})},d=a=>{const o=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]');"dark"===a?document.querySelector("html").classList.add("darktheme"):document.querySelector("html").classList.remove("darktheme"),o.innerText=`${a.charAt(0).toUpperCase()+a.slice(1)} Theme`,t.updateTheme(a),e.updateTheme(a),localStorage.setItem("theme",a)},c=o=>{"difftool"===o?t.setupMonacoTab(document.getElementById("monaco-diff-container")):"editor"===o?e.setupMonacoTab(document.getElementById("monaco-editor-container")):"about"===o&&a.setupAboutTab(document.querySelector('.dt-tab-content[data-tab-content-id="about"]'))},n=()=>{t.resize(),e.resize()},r=(t,e)=>{if("theme"===e){const t=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]'),e=t.innerText.toLowerCase().replace("theme","").trim(),a="dark"===e?"light":"dark";return void d(a)}const a=document.getElementsByClassName("dt-tab-content");for(i=0;i<a.length;i++)a[i].classList.add("dt-hidden");const o=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");const r=document.querySelector(`.dt-tab-content[data-tab-content-id="${e}"]`);r.classList.remove("dt-hidden"),t.currentTarget.className+=" active",c(e),n()},l=document.querySelectorAll(".dt-tab-content");for(let t=0;t<l.length;t++)l[t].classList.add("dt-hidden");const s=localStorage.getItem("selectedTabId")||"difftool",m=document.querySelector(`.dt-tab-content[data-tab-content-id="${s}"]`);m.classList.remove("dt-hidden");const u=document.querySelector(`.dt-tab-bar .dt-tab-button[data-tab-id="${s}"]`);u.className+=" active",c(s);const b=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<b.length;t++)b[t].addEventListener("click",e=>{r(e,b[t].dataset.tabId)});let h=localStorage.getItem("theme");null===h&&(h="dark"),d(h);const y=document.querySelector(".dt-main-container");y.style.display="flex",n(),o()});