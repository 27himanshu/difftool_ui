require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs",dt:"/js"}}),require(["dt/difftool.min","dt/editor.min","dt/about.min"],(t,e,a)=>{const o=()=>{window.addEventListener("visibilitychange",t=>{const e=document.querySelector(".dt-tab-bar .dt-tab-button.active"),a=e.getAttribute("data-tab-id");localStorage.setItem("selectedTabId",a)})},d=t=>{const e=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]');"dark"===t?document.querySelector("html").classList.add("darktheme"):document.querySelector("html").classList.remove("darktheme"),e.innerText=`${t.charAt(0).toUpperCase()+t.slice(1)} Theme`,localStorage.setItem("theme",t),c()},c=()=>{const a=localStorage.getItem("theme");t.updateTheme(a),e.updateTheme(a)},n=o=>{"difftool"===o?t.setupMonacoTab(document.getElementById("monaco-diff-container")):"editor"===o?e.setupMonacoTab(document.getElementById("monaco-editor-container")):"about"===o&&a.setupAboutTab(document.querySelector('.dt-tab-content[data-tab-content-id="about"]'))},r=()=>{t.resize(),e.resize()},l=()=>{c(),r()},s=(t,e)=>{if("theme"===e){const t=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]'),e=t.innerText.toLowerCase().replace("theme","").trim(),a="dark"===e?"light":"dark";return void d(a)}const a=document.getElementsByClassName("dt-tab-content");for(i=0;i<a.length;i++)a[i].classList.add("dt-hidden");const o=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");const c=document.querySelector(`.dt-tab-content[data-tab-content-id="${e}"]`);c.classList.remove("dt-hidden"),t.currentTarget.className+=" active",n(e),l()},m=document.querySelectorAll(".dt-tab-content");for(let t=0;t<m.length;t++)m[t].classList.add("dt-hidden");const u=localStorage.getItem("selectedTabId")||"difftool",b=document.querySelector(`.dt-tab-content[data-tab-content-id="${u}"]`);b.classList.remove("dt-hidden");const h=document.querySelector(`.dt-tab-bar .dt-tab-button[data-tab-id="${u}"]`);h.className+=" active",n(u);const g=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<g.length;t++)g[t].addEventListener("click",e=>{s(e,g[t].dataset.tabId)});let y=localStorage.getItem("theme");null===y&&(y="dark"),d(y);const S=document.querySelector(".dt-main-container");S.style.display="flex",r(),o()});