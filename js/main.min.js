require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.43.0/min/vs",dt:"/js"}}),require(["dt/difftool.min","dt/editor.min","dt/about.min"],(t,e,a)=>{const d=()=>{window.addEventListener("visibilitychange",t=>{const e=document.querySelector(".dt-tab-bar .dt-tab-button.active"),a=e.getAttribute("data-tab-id");localStorage.setItem("selectedTabId",a)})},o=()=>{const t=["/resources/icons/buttons/dark-theme-24.svg","/resources/icons/buttons/light-theme-24.svg"];t.forEach(async t=>{var e=new Image;e.src=t})},n=()=>document.querySelector("html").classList.contains("darktheme")?"dark":"light",c=t=>{const e=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]');"dark"===t?(document.querySelector("html").classList.add("darktheme"),e.title="Night Mode"):(document.querySelector("html").classList.remove("darktheme"),e.title="Daylight Mode"),localStorage.setItem("theme",t),r()},r=()=>{const a=localStorage.getItem("theme");t.updateTheme(a),e.updateTheme(a)},s=d=>{"difftool"===d?t.setupMonacoTab(document.getElementById("monaco-diff-container")):"editor"===d?e.setupMonacoTab(document.getElementById("monaco-editor-container")):"about"===d&&a.setupAboutTab(document.querySelector('.dt-tab-content[data-tab-content-id="about"]'))},l=()=>{const a=document.querySelector(".dt-tab-bar .dt-tab-button.active"),d=a.getAttribute("data-tab-id"),o=document.querySelector(`.dt-tab-content[data-tab-content-id="${d}"]`);o.classList.add("dt-hidden"),t.resize(),e.resize(),o.classList.remove("dt-hidden"),t.resize(),e.resize()},u=()=>{r(),l()},m=(t,e)=>{if("theme"===e){const t=n(),e="dark"===t?"light":"dark";return void c(e)}const a=document.getElementsByClassName("dt-tab-content");for(i=0;i<a.length;i++)a[i].classList.add("dt-hidden");const d=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<d.length;t++)d[t].classList.remove("active");const o=document.querySelector(`.dt-tab-content[data-tab-content-id="${e}"]`);o.classList.remove("dt-hidden"),t.currentTarget.classList.add("active"),s(e),u()};o();const b=document.querySelectorAll(".dt-tab-content");for(let t=0;t<b.length;t++)b[t].classList.add("dt-hidden");const h=localStorage.getItem("selectedTabId")||"difftool",g=document.querySelector(`.dt-tab-content[data-tab-content-id="${h}"]`);g.classList.remove("dt-hidden");const y=document.querySelector(`.dt-tab-bar .dt-tab-button[data-tab-id="${h}"]`);y.className+=" active",s(h);const v=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<v.length;t++)v[t].addEventListener("click",e=>{m(e,v[t].dataset.tabId),e.preventDefault()});let S=localStorage.getItem("theme");null===S&&(S="dark"),c(S);const f=document.querySelector(".dt-main-container");f.style.display="flex",l(),d(),window.addEventListener("resize",u)});