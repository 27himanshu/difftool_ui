require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.38.0/min/vs",dt:"/js"}}),require(["dt/difftool.min","dt/editor.min","dt/about.min"],(t,e,a)=>{const o=()=>{window.addEventListener("visibilitychange",t=>{const e=document.querySelector(".dt-tab-bar .dt-tab-button.active"),a=e.getAttribute("data-tab-id");localStorage.setItem("selectedTabId",a)})},d=()=>{const t=["/resources/icons/buttons/dark-theme-24.svg","/resources/icons/buttons/light-theme-24.svg"];t.forEach(async t=>{var e=new Image;e.src=t})},c=()=>document.querySelector("html").classList.contains("darktheme")?"dark":"light",n=t=>{const e=document.querySelector('.dt-tab-bar .dt-tab-button[data-tab-id="theme"]');"dark"===t?(document.querySelector("html").classList.add("darktheme"),e.title="Night Mode"):(document.querySelector("html").classList.remove("darktheme"),e.title="Daylight Mode"),localStorage.setItem("theme",t),r()},r=()=>{const a=localStorage.getItem("theme");t.updateTheme(a),e.updateTheme(a)},s=o=>{"difftool"===o?t.setupMonacoTab(document.getElementById("monaco-diff-container")):"editor"===o?e.setupMonacoTab(document.getElementById("monaco-editor-container")):"about"===o&&a.setupAboutTab(document.querySelector('.dt-tab-content[data-tab-content-id="about"]'))},l=()=>{t.resize(),e.resize()},u=()=>{r(),l()},m=(t,e)=>{if("theme"===e){const t=c(),e="dark"===t?"light":"dark";return void n(e)}const a=document.getElementsByClassName("dt-tab-content");for(i=0;i<a.length;i++)a[i].classList.add("dt-hidden");const o=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<o.length;t++)o[t].classList.remove("active");const d=document.querySelector(`.dt-tab-content[data-tab-content-id="${e}"]`);d.classList.remove("dt-hidden"),t.currentTarget.classList.add("active"),s(e),u()};d();const b=document.querySelectorAll(".dt-tab-content");for(let t=0;t<b.length;t++)b[t].classList.add("dt-hidden");const h=localStorage.getItem("selectedTabId")||"difftool",g=document.querySelector(`.dt-tab-content[data-tab-content-id="${h}"]`);g.classList.remove("dt-hidden");const y=document.querySelector(`.dt-tab-bar .dt-tab-button[data-tab-id="${h}"]`);y.className+=" active",s(h);const f=document.querySelectorAll(".dt-tab-bar .dt-tab-button");for(let t=0;t<f.length;t++)f[t].addEventListener("click",e=>{m(e,f[t].dataset.tabId),e.preventDefault()});let v=localStorage.getItem("theme");null===v&&(v="dark"),n(v);const S=document.querySelector(".dt-main-container");S.style.display="flex",l(),o()});